<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules @pdftron/webviewer-audio Events event:audioViewerEventsAttachedevent:audioViewerLoadedevent:audioViewerReady Modules Events audioViewerEventsAttached Event emitted when an annotation observer is attached Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerEventsAttached', listener); }); audioViewerLoaded Event emitted when ffmpeg is loaded Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerLoaded', listener); }); audioViewerReady Event emitted when audio is loaded, decoded and the waveform drawn Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerReady', listener); }); × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-08-03T20:45:25-07:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules @pdftron/webviewer-audio Events event:audioViewerEventsAttachedevent:audioViewerLoadedevent:audioViewerReady WebViewer Audio WebViewer is a powerful JavaScript-based PDF Library that's part of the PDFTron PDF SDK. It allows you to view and annotate PDF files on your web app with a fully customizable UI. This is an addon for WebViewer that allows loading media files (.mp3, .mp4, ogg, webm, etc.), so that their audio tracks can annotated and redacted. Also, try out the react sample here. It shows how to integrate WebViewer and WebViewer-Audio with a server component for the saving of annotations. Demo https://webviewer-audio.web.app/ Initial setup Before you begin, make sure your development environment includes Node.js and npm. Install npm install @pdftron/webviewer-audio How to use Here is an example of how WebViewer and WebViewer-audio could be integrated into your application. import React, { useRef, useEffect } from 'react'; import WebViewer from '@pdftron/webviewer'; import { initializeAudioViewer } from '@pdftron/webviewer-audio'; const App = () =&gt; { const viewer = useRef(null); useEffect(() =&gt; { WebViewer( { path: '/webviewer/lib', }, viewer.current, ).then(async instance =&gt; { // Extends WebViewer to allow loading media files (.mp3, .mp4, ogg, webm, etc.) const { loadAudio, } = await initializeAudioViewer( instance, { license: '---- Insert commercial license key here after purchase ----', } ); // Load a media element at a specific url. Can be a local or public link // If local it needs to be relative to lib/ui/index.html. // Or at the root. (eg '/audio.mp3') const audioUrl = '/audio.mp3'; loadAudio(audioUrl); }); }, []); return ( &lt;div className=\"App\"&gt; &lt;div className=\"webviewer\" ref={viewer} /&gt; &lt;/div&gt; ); } export default App; Also see the React sample, for a complete solution, with further customizations. Documentation API documentation WebViewer APIs See @pdftron/webviewer API documentation. License WebViewer Audio will run in trial mode until a license is provided. For more information on licensing, please visit our website. × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-08-03T20:45:25-07:00 using the DocStrap template. "},"module-@pdftron_webviewer-audio.html":{"id":"module-@pdftron_webviewer-audio.html","title":"Module: @pdftron/webviewer-audio","body":" Documentation Modules @pdftron/webviewer-audio Events event:audioViewerEventsAttachedevent:audioViewerLoadedevent:audioViewerReady Module: @pdftron/webviewer-audio This is an addon for WebViewer that allows loading media files (.mp3, .mp4, .ogg, .webm, etc.) so that the audio track can be annotated. See the npm package on @pdftron/webviewer-audio for more information. Methods &lt;static&gt; initializeAudioViewer(instance, options) Initializes the audio viewer so that WebViewer can load media files. Parameters: Name Type Description instance Object The WebViewer instance options Object Options object. Properties Name Type Argument Default Description license string &lt;optional&gt; '' The WebViewer Audio license. Returns: A promise that resolves to an object containing the functions needed to load videos in WebViewer. Type AudioFunctions Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { loadAudio, getFileURL, } = await initializeAudioViewer( instance, { license, }, ); }); &lt;static&gt; unmountWebViewerAudio(instance, customContainer) Unmounts webviewer audio. Parameters: Name Type Description instance Object The WebViewer instance customContainer Object A container element, e.g. a div. Example unmountWebViewerAudio(webViewerInstance, container); Type Definitions AudioFunctions Type: Object Properties: Name Type Description loadAudio function Loads an audio file for the WebViewer instance passed into initializeAudioViewer. First param is the audio/video url. getFileURL function Can only be used in licensed mode. In the demo mode it will only return `null`. Returns the file URL loaded through `loadAudio` until redactions are made. After redactions are made the URL will be a Data URL for the modified file. redactAudio function Redacts ranges of time in the audio. It takes one param, an array of objects with the shape: { start: startTime , end: endTime }. `start` and `end` time are both expected to be in seconds. Returns a promise that resolves when the operation is complete. Only one of these operations may be run at the same time. You must wait for the previous operation to finish before beginning another. getWaveSurfer function Returns the underlying WaveSurfer object used under the hood. An error is thrown if called before the 'audioViewerLoaded' event. Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { loadAudio, getFileURL, redactAudio, } = await initializeAudioViewer( instance, { license, }, ); loadAudio('https://www.mydomain.com/my_audio_url'); instance.docViewer.on('documentLoaded', async () =&gt; { // Download the file const anchor = document.createElement('a'); anchor.href = getFileURL(); anchor.target = \"_blank\"; anchor.download = myAudioFile.mp3; // Auto click on a element, trigger the file download anchor.click(); // Redact the audio track 0.5 - 2.0 seconds and 2.5 - 4.0 seconds. await redactAudio([ { start: 0.5, end: 2.0 }, { start: 2.5, end: 4.0 } ]); }); }); getFileURL() Can only be used in licensed mode. In the demo mode it will only return `null`. Returns the file URL loaded through `loadAudio` until redactions are made. After redactions are made the URL will be a Data URL for the modified file. Returns: Type void Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { getFileURL, loadAudio, } = await initializeVideoViewer(instance, { license }); ... ... // Download the file const anchor = document.createElement('a'); anchor.href = getFileURL(); anchor.target = \"_blank\"; anchor.download = myAudioFile.mp3; // Auto click on a element, trigger the file download anchor.click(); }); getWaveSurfer() Returns the underlying WaveSurfer object used under the hood. An error is thrown if called before the 'audioViewerLoaded' event. See: WaveSurfer methods WaveSurfer events Returns: waveSurfer - The underlying WaveSurfer object. Type object Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { getWaveSurfer, } = await initializeVideoViewer(instance, { license }); loadAudio('https://www.mydomain.com/my_audio_url'); instance.docViewer.on('audioViewerLoaded', () =&gt; { const waveSurfer = getWaveSurfer(); waveSurfer.on('play', () =&gt; { console.log('is playing'); }); waveSurfer.on('pause', () =&gt; { console.log('is paused'); }); }); }); loadAudio(url) Loads an audio file for the WebViewer instance passed into initializeAudioViewer. Parameters: Name Type Description url String The audio/video url. Returns: Type void Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { loadAudio, } = await initializeVideoViewer(instance, { license }); loadAudio('https://www.mydomain.com/my_video_or_audio_url'); }); redactAudio(sections) Redacts ranges of time in the audio. Parameters: Name Type Description sections array an array of objects with the shape: { start: startTime , end: endTime }. `start` and `end` time are both expected to be seconds (integers). Returns: A promise that resolves when the operation is complete. Only one of these operations may be run at the same time. You must wait for the previous operation to finish before beginning another. Type promise Events audioViewerEventsAttached Event emitted when an annotation observer is attached Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerEventsAttached', listener); }); audioViewerLoaded Event emitted when ffmpeg is loaded Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerLoaded', listener); }); audioViewerReady Event emitted when audio is loaded, decoded and the waveform drawn Example WebViewer(...) .then(function(instance) { const { docViewer } = instance; docViewer.on('audioViewerReady', listener); }); × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-08-03T20:45:25-07:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
